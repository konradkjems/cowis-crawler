[
  {
    "id": 103000270416,
    "title": "Investigating Cash Office Variances",
    "text": "If the customer references that there is a variance showing in the Cash Office for a certain location, get them to send you a screenshot of this, so you can view this yourself in the Cash Office program. This is ticket example: 39468. When you have the screenshot, in the Back Office, go to Tills, Run Cash Office. When the Cash Office opens you can then select the Cash Office location in question by following 1 & 2 on the screenshot below. You can then click Cash In/Out or Reconc'n (3) depending on which view the customer is referring to. You will also need to select the date in question. Once you have found the variance in the Cash Office, you can start investigating this within SQL. The below SQL should be able to help with finding the record in question which is causing this issue. select cmvTillID,[cmvDptID], [cmvSubDptID],cmvRecNo, cmvLinkRecNo, cmvCofID, cmvDate, cmvMvmtType, cmvMvmtDesc, cmvExternalTrf, cmvRpsID, cmvLinkRpsID, cmvPaymentType, cmvTypeOfCash, cmvValue, empForenames+' '+empSurname Operator, cmvDatePosted, cmvReason, cmvDnmRecNo, cmvChequeList from cashMovements JOIN Employee ON cmvOperator=empNumber where cmvDate> '12 DEC 2023 00:00' and cmvDate 4 --and cmvMvmtType in (1,2,3) --and cmvRpsID = 3 --and cmvReason like '%Adjustment Posted%' order by cmvRecNo DESC This is where you will need to work this issue out yourself, as there isn't a consistent fix for each issue. To find the Cash Office ID, you can run this SQL: SELECT * FROM CashOffice Once you are happy with what record needs to be removed, you can use the below statement to back up and remove the incorrect record. SELECT * INTO BAKCashMovements[Date] FROM CashMovements BEGIN TRANSACTION DELETE FROM CashMovements WHERE cmvRecNo=[cmvRecNo] --COMMIT",
    "category": "INTERNAL Support Articles",
    "folder": "Adventure Island",
    "created_at": "2024-01-22T12:36:58+00:00",
    "updated_at": "2024-01-22T12:48:38+00:00",
    "status": 2,
    "tags": [],
    "description": "<p dir=\"ltr\">If the customer references that there is a variance showing in the Cash Office for a certain location, get them to send you a screenshot of this, so you can view this yourself in the Cash Office program. This is ticket example:&nbsp;<a href=\"https://k3support.freshdesk.com/a/tickets/39468\" rel=\"noreferrer\" target=\"_blank\">39468</a>.</p><p dir=\"ltr\"><br></p><p dir=\"ltr\">When you have the screenshot, in the Back Office, go to <strong dir=\"ltr\">Tills</strong>, <strong dir=\"ltr\">Run Cash Office</strong>.</p><p dir=\"ltr\"><img src=\"https://s3-eu-central-1.amazonaws.com/euc-cdn.freshdesk.com/data/helpdesk/attachments/production/103081468176/original/J9wOuxYCMEOneNU1Kt_AjkxnK-gYaKwg3A.png?1705926625\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"103081468176\"></p><p><br></p><p dir=\"ltr\">When the Cash Office opens you can then select the Cash Office location in question by following &nbsp;<span dir=\"ltr\" style=\"color: rgb(226, 80, 65);\"><strong dir=\"ltr\">1&nbsp;</strong></span><span dir=\"ltr\">&amp;</span><span dir=\"ltr\" style=\"color: rgb(226, 80, 65);\"><strong dir=\"ltr\">&nbsp;2&nbsp;</strong></span><span dir=\"ltr\"><span dir=\"ltr\" style=\"color: null;\">on the screenshot below. You can then click <strong dir=\"ltr\">Cash In/Out&nbsp;</strong>or <strong dir=\"ltr\">Reconc'n&nbsp;</strong>(</span><span dir=\"ltr\" style=\"color: rgb(226, 80, 65);\"><strong dir=\"ltr\">3</strong></span><span dir=\"ltr\" style=\"color: null;\">)<strong dir=\"ltr\">&nbsp;</strong>depending on which view the customer is referring to. You will also need to select the date in question.&nbsp;</span></span></p><p><img src=\"https://s3-eu-central-1.amazonaws.com/euc-cdn.freshdesk.com/data/helpdesk/attachments/production/103081469432/original/NFHAezCxkydIPuT4MUQNP71-c3OSmC9-dQ.png?1705926770\" style=\"width: auto;\" class=\"fr-fic fr-fil fr-dib\" data-attachment=\"[object Object]\" data-id=\"103081469432\"></p><p><br></p><p dir=\"ltr\">Once you have found the variance in the Cash Office, you can start investigating this within SQL. The below SQL should be able to help with finding the record in question which is causing this issue.</p><p dir=\"ltr\"><br></p><div><pre contenteditable=\"false\" data-code-brush=\"SQL\" rel=\"highlighter\">select  cmvTillID,[cmvDptID], [cmvSubDptID],cmvRecNo, cmvLinkRecNo, cmvCofID, cmvDate, cmvMvmtType, cmvMvmtDesc, \ncmvExternalTrf, cmvRpsID, cmvLinkRpsID,  cmvPaymentType, cmvTypeOfCash, cmvValue, \nempForenames+' '+empSurname Operator, cmvDatePosted, cmvReason, cmvDnmRecNo, cmvChequeList\nfrom  cashMovements \nJOIN Employee ON cmvOperator=empNumber\nwhere cmvDate&gt; '12 DEC 2023 00:00' and cmvDate &lt;='13 DEC 2023 00:00'\n--and [cmvTillID] = 802\n--and cmvCofID = 3\n--and cmvPaymentType &gt; 4\n--and cmvMvmtType in (1,2,3)\n--and cmvRpsID = 3\n--and cmvReason like '%Adjustment Posted%'\norder by cmvRecNo DESC</pre><p style=\"margin-left: 0px; text-align: left;\"><span dir=\"ltr\" style=\"font-size: 13px; background-color: rgba(0, 0, 0, 0); color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif;\">&nbsp;</span></p><p dir=\"ltr\">This is where you will need to work this issue out yourself, as there isn't a consistent fix for each issue. To find the Cash Office ID, you can run this SQL:</p><div><pre contenteditable=\"false\" data-code-brush=\"SQL\" rel=\"highlighter\">SELECT * FROM CashOffice</pre><p style=\"margin-left: 0px; text-align: left;\"><br></p><p style=\"margin-left: 0px; text-align: left;\"><span dir=\"ltr\" style=\"font-size: 13px; background-color: rgba(0, 0, 0, 0); color: rgb(0, 0, 0); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif;\">Once you are happy with what record needs to be removed, you can use the below statement to back up and remove the incorrect record.</span></p><div><pre contenteditable=\"false\" data-code-brush=\"Html\" rel=\"highlighter\">SELECT * INTO BAKCashMovements[Date] FROM CashMovements\n\nBEGIN TRANSACTION \nDELETE FROM CashMovements\nWHERE cmvRecNo=[cmvRecNo]\n--COMMIT </pre></div></div></div>",
    "user_id": 103082581554,
    "thumbs_up": 0,
    "thumbs_down": 0,
    "hits": 0,
    "seo_data": {},
    "modified_at": "2024-01-22T12:48:38+00:00",
    "modified_by": 103082581554
  }
]